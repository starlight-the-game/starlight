"use strict";(self.webpackChunkstarlight=self.webpackChunkstarlight||[]).push([[2309],{4690:(s,e,a)=>{a.r(e),a.d(e,{default:()=>N});var n=a(5043),t=a(6213),l=(a(4166),a(3216)),c=a(5475),r=a(4320),i=a(6494),o=a(9883),d=a(653),h=a(1832),g=a(8440),m=a(4797),x=a(9895),u=a(3900),j=a(3204),v=a(579);const p="https://cluster1.swyrin.id.vn";const N=function(){var s,e;const a=(0,l.zy)(),N=(null===(s=a.state)||void 0===s?void 0:s.currentSong)||null,b=(null===(e=a.state)||void 0===e?void 0:e.currentSongIndex)||0,[y,f]=(0,n.useState)(N),[S,k]=(0,n.useState)(b);let w;const[C,E]=(0,n.useState)(!1),[L,I]=(0,n.useState)(!1),[A,$]=(0,n.useState)([]),[_,H]=(0,n.useState)(""),T=new u.A(A,{keys:["title"],threshold:.3}),D=_?T.search(_).map((s=>s.item)):A;(0,n.useEffect)((()=>{f(N),k(b)}),[N,b]),(0,n.useEffect)((()=>{f(N)}),[N]),(0,n.useEffect)((()=>{(async()=>{try{const s=(await t.A.get(`${p}/api/track/all`,{headers:{"Content-Type":"application/json"}})).data;$(s),s.length>0&&k(0)}catch(s){console.error("Error fetching data:",s)}})()}),[]),(0,n.useEffect)((()=>{S>=A.length&&k(0)}),[S,A.length]),(0,n.useEffect)((()=>{const s=s=>{27===s.keyCode&&(s.preventDefault(),F())};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}}),[]);const F=()=>{I(!0)};return(0,v.jsxs)("div",{className:"storepage",children:[(0,v.jsxs)("header",{className:"navbar",children:[(0,v.jsxs)("div",{id:"nav-icon1",className:C?"open":"",onClick:()=>{E(!C)},children:[(0,v.jsx)("span",{}),(0,v.jsx)("span",{}),(0,v.jsx)("span",{})]}),(0,v.jsxs)("nav",{className:"nav-links left",children:[(0,v.jsxs)(c.N_,{to:"/songpage",children:[(0,v.jsx)("img",{src:o,alt:"Songs",className:"nav-icon"}),(0,v.jsx)("span",{children:"Songs"})]}),(0,v.jsxs)(c.N_,{to:"/historypage",children:[(0,v.jsx)("img",{src:d,alt:"History",className:"nav-icon"}),(0,v.jsx)("span",{children:"History"})]})]}),(0,v.jsx)("div",{className:"logo-container",children:(0,v.jsx)(c.N_,{to:"/songpage",className:"logo",children:(0,v.jsxs)("span",{className:"star-light",children:[(0,v.jsx)("span",{children:"STAR"}),(0,v.jsx)("img",{src:r,alt:"Logo",className:"logo-icon",style:{verticalAlign:"middle"}}),(0,v.jsx)("span",{className:"light",children:"LIGHT"})]})})}),(0,v.jsxs)("nav",{className:"nav-links right",children:[(0,v.jsxs)(c.N_,{to:"/eventpage",state:{currentSong:y,currentSongIndex:S},children:[(0,v.jsx)("img",{src:h,alt:"Events",className:"nav-icon"}),(0,v.jsx)("span",{children:"Events"})]}),(0,v.jsxs)(c.N_,{to:"/storepage",state:{currentSong:y,currentSongIndex:S},children:[(0,v.jsx)("img",{src:g,alt:"Store",className:"nav-icon"}),(0,v.jsx)("span",{children:"Store"})]})]}),(0,v.jsx)("div",{className:"leave-button",children:(0,v.jsx)("img",{src:i,alt:"Leave",className:"leave-icon",style:{width:"26px",height:"26px"},onClick:F})})]}),(0,v.jsxs)("div",{className:"content-layer",children:[(0,v.jsx)("div",{className:"background-image",children:(0,v.jsx)("img",{src:y&&y.backgroundUrl?`${y.backgroundUrl}`:"",alt:"Background"})}),(0,v.jsx)("div",{className:"overlay-layer",style:{height:"1000px"}}),(0,v.jsx)("div",{className:"coming-soon-text",children:"Coming soon..."})]}),(0,v.jsxs)("div",{className:"sidebar "+(C?"open":""),style:{backgroundImage:`url(${m})`},children:[(0,v.jsx)("div",{className:"search-bar-container",children:(0,v.jsxs)("form",{className:"search-form",onSubmit:s=>{s.preventDefault()},children:[(0,v.jsx)("label",{htmlFor:"search",className:"screen-reader-text",children:"Search"}),(0,v.jsx)("input",{type:"search",id:"search",placeholder:"Search songs...",value:_,onChange:s=>{H(s.target.value)},className:"search-field"}),(0,v.jsx)("button",{type:"submit",className:"search-submit",children:(0,v.jsx)(j.KSO,{className:"search-bar-icon"})})]})}),(0,v.jsx)("ul",{children:D.map(((s,e)=>(0,v.jsxs)("li",{className:"song-item",onClick:()=>f(s),children:[(0,v.jsxs)("div",{className:"song-info-sidebar",children:[(0,v.jsx)("img",{src:x,alt:"Song Sidebar Icon",className:"song-sidebar-icon"}),(0,v.jsx)("span",{className:"sidebar-song",children:s.title})]}),(0,v.jsx)("div",{className:"song-bg",style:{backgroundImage:`url(${p}${s.backgroundFileLocation})`}}),(0,v.jsx)("span",{className:"sidebar-song-title",children:s.title})]},e)))})]}),L&&(0,v.jsx)("div",{className:"popup-overlay",children:(0,v.jsxs)("div",{className:"popup-content",children:[(0,v.jsx)("h2",{children:"Confirm Leave"}),(0,v.jsx)("p",{children:"Are you sure you want to leave the game?"}),(0,v.jsx)("button",{className:"stay-button",onClick:()=>{I(!1)},children:"Stay"}),(0,v.jsx)("button",{className:"leave-button",onClick:()=>{w&&(w.pause(),w=null),window.location.href="/"},children:"Leave"})]})})]})}}}]);
//# sourceMappingURL=2309.8fab0d8a.chunk.js.map